{# templates/user/profile.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Profil de {{ user.username }}{% endblock %}

{% block body %}
    <h1>Profil de {{ user.username }}</h1>
    <p><strong>Nom :</strong> {{ user.first_name }} {{ user.last_name }}</p>
    <p><strong>Email :</strong> {{ user.email }}</p>
    <p><strong>Points :</strong> {{ user.points }}</p>
    
    {% if user.group_id %}
        <p><strong>Groupe :</strong> {{ user.group_id }}</p>
    {% else %}
        <p>Aucun groupe associé</p>
    {% endif %}

    <h2>Habitudes</h2>
    {% for habit in user.getHabits() %}
        <p>
            <strong>{{ habit.name }}</strong> - {{ habit.description }}<br>
            Difficulté : {{ habit.difficulty }} | Périodicité : {{ habit.periodicity }}
        </p>
    {% else %}
        <p>Aucune habitude définie.</p>
    {% endfor %}

    <form action="{{ path('add_habit', {'userId': user.id}) }}" method="post">
        <input type="text" name="name" placeholder="Nom de l'habitude" required>
        <input type="text" name="description" placeholder="Description" required>
        <input type="text" name="difficulty" placeholder="Difficulté" required>
        <input type="text" name="periodicity" placeholder="Périodicité" required>
        <button type="submit">Ajouter une habitude</button>
    </form>
{% endblock %}
