{# templates/habitica/index.html.twig #}
{% extends 'base.html.twig' %}
{% block title %}
    <h1>Welcome to Habitica!</h1>
{% endblock %}
{% block body %}
    <h1>Welcome to Habitica!</h1>
    <h2>Add a new user</h2>
    {{ form_start(form) }}
        {{ form_row(form.first_name) }}
        {{ form_row(form.last_name) }}
        {{ form_row(form.username) }}
        {{ form_row(form.email) }}
        {{ form_row(form.password) }}
        {{ form_row(form.profile_picture) }}
        {{ form_row(form.save) }}
    {{ form_end(form) }}

    <h2>Existing users</h2>
    {% for user in users %}
        <p>
            <span style="color:deeppink;"><b>First name: </b>{{ user.first_name }}</span><br>
            <b>Last name :</b> {{ user.last_name }}<br>
            <b>Username :</b> {{ user.username }}<br>
            <b>Email :</b> {{ user.email }}<br>
            <b>Group :</b> {{ user.group_id }}<br>
            <b>Picture : </b> {{user.profile_picture}}<br>
            <form method="post" action="{{ path('user_delete', {'id': user.id}) }}" onsubmit="return confirm('Are you sure you want to delete this user?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.id) }}">
                <button class="btn">Delete</button>
            </form>
        </p>
    {% endfor %}
{% endblock %}